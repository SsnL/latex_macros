\ProvidesPackage{ssnlmacros}[2016/10/27 v1.3 My own macros]
\RequirePackage{amsmath, amssymb, amsthm}
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{lmodern} % load a font with all the characters
\RequirePackage{float}
\restylefloat{table}
\RequirePackage{textcomp, gensymb}
\RequirePackage{centernot}
\RequirePackage{algorithm}
\RequirePackage{algpseudocode}
\RequirePackage{tikz}
\usetikzlibrary{arrows, chains, fit, shapes, decorations.pathreplacing, decorations.pathmorphing, positioning, calc}
\usetikzlibrary{intersections}
\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}
\usetikzlibrary{decorations.markings}
\RequirePackage{pgfplots}
\pgfplotsset{compat=newest}
\RequirePackage[framemethod=tikz]{mdframed}
\RequirePackage{mathtools}
\RequirePackage{lipsum}
\RequirePackage{courier}
\RequirePackage{systeme}
\RequirePackage{adjustbox}
\RequirePackage{mathtools}
\RequirePackage[overload]{empheq}
\RequirePackage{array, etoolbox}
\RequirePackage{xifthen}
\RequirePackage{undertilde}
\RequirePackage{color, colortbl}
\RequirePackage{mleftright, xparse}
\RequirePackage{dsfont}
\RequirePackage{enumitem}
\RequirePackage{environ}
\RequirePackage{xspace}
\RequirePackage{listings}
\RequirePackage{courier}
\RequirePackage{hyperref}
\RequirePackage{braket}
\RequirePackage{enumitem}
\RequirePackage{pifont}

\delimitershortfall-1sp
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand*{\iid}{\ifmmode \stext{i.i.d.} \else i.i.d.\@\xspace \fi}
\newcommand*{\eg}{e.g.\@\xspace}
\newcommand*{\ie}{i.e.\@\xspace}
\newcommand*{\Eg}{E.g.\@\xspace}
\newcommand*{\Ie}{I.e.\@\xspace}
\newcommand*{\wrt}{\ifmmode \stext{w.r.t.} \else w.r.t.\@\xspace \fi}
\newcommand*{\aever}{\ifmmode \stext{a.e.} \else a.e.\@\xspace \fi}
\newcommand*{\st}{\ifmmode \stext{s.t.} \else s.t.\@\xspace \fi}
\newcommand*{\wprob}{\ifmmode \stext{w.p.} \else w.p.\@\xspace \fi}
\newcommand*{\ppt}{\ifmmode \stext{ppt} \else ppt \fi}
\newcommand*{\etc}{%
    \@ifnextchar{.}%
        {etc}%
        {etc.\@\xspace}%
}
\newcommand*{\re}{%
    \@ifnextchar{.}%
        {r.e.}%
        {r.e.\@\xspace}%
}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\mathchardef\mhyphen="2D % Define a "math hyphen"
\def\dotminus{\mathbin{\ooalign{\hss\raise1ex\hbox{.}\hss\cr\mathsurround=0pt$-$}}}
\DeclareDocumentCommand{\distn}{mO{}mO{}O{}}{%
    {#1}\ifthenelse{\isempty{#2}}{}{_{#2}}%
    \ifthenelse{\isempty{#3}}{}{\left[{#3}\ifthenelse{\isempty{#4}}{}{\mathrel{}\middle\vert\mathrel{}#4}\ifthenelse{\isempty{#5}}{}{; {#5}}\right]}
}
\DeclareDocumentCommand{\prob}{O{}mO{}O{}}{%
    \distn{\mathbb{P}}[#1]{#2}[#3][#4]
}
\DeclareDocumentCommand{\expect}{O{}mO{}}{%
    \mathbb{E}\ifthenelse{\isempty{#1}}{}{_{#1}}%
    \ifthenelse{\isempty{#2}}{}{\left[{#2}\ifthenelse{\isempty{#3}}{}{\mathrel{}\middle\vert\mathrel{}#3}\right]}
}
\DeclareDocumentCommand{\indic}{O{}mO{}}{%
    \mathbb{1}\ifthenelse{\isempty{#1}}{}{_{#1}}%
    \ifthenelse{\isempty{#2}}{}{\left({#2}\right)}
}
% \mathcal{Y} as the decision region for hypothesis testing
\newcommand{\Y}[0]{\mathcal{Y}}
% \newcommand{\L}[0]{\mathcal{L}}
\newcommand{\N}[0]{\mathbb{N}}
\newcommand{\Z}[0]{\mathbb{Z}}
\newcommand{\Q}[0]{\mathbb{Q}}
\newcommand{\R}[0]{\mathbb{R}}
\newcommand{\C}[0]{\mathbb{C}}
\newcommand{\F}[0]{\mathbb{F}}
\newcommand{\diff}[0]{\mathop{}\!\mathrm{d}}
\newcommand{\setcomp}[1]{{#1}^{\mathsf{c}}}
\newcommand{\var}[1]{\text{Var}\left({#1}\right)}
\newcommand{\cov}[2]{\text{Cov}\left({#1, #2}\right)}
\newcommand{\ci}{\perp\!\!\!\perp}
\newcommand{\notci}{\not\!\perp\!\!\!\perp}
\newsavebox{\mybox}\newsavebox{\mysim}
\newcommand{\distnas}[1]{%
  \savebox{\mybox}{\hbox{\kern3pt$\scriptstyle#1$\kern3pt}}%
  \savebox{\mysim}{\hbox{$\sim$}}%
  \mathbin{\overset{#1}{\kern\z@\resizebox{\wd\mybox}{\ht\mysim}{$\sim$}}}%
}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\newcommand{\ubar}[1]{\underline{\sbox\tw@{$#1$}\dp\tw@\z@\box\tw@}}
\newcommand{\eqin}[1]{\overset{#1}{=}}
\newcommand{\defeq}[0]{\overset{\mbox{\normalfont\tiny def}}{=}}
\newcommand{\trieq}[0]{\triangleq}
\newcommand{\timeseries}[1]{\{#1_t\}}
\newcommand{\kl}[2]{D(#1 \mathrel{||} #2)}
\newcommand{\given}{\mathrel{\vert}}
\newcommand{\normal}[2]{\mathcal{N}(#1, #2)}
\newcommand{\pluseq}{\mathrel{+}=}
\newcommand{\ato}{\text{ to }}
\newcommand{\rmod}[1]{\text{mod}\ #1}
\newcommand{\real}[1]{\text{Re}(#1)}
\newcommand{\grad}[0]{\nabla}
\newcommand{\tr}[1]{\text{tr}(#1)}
\newcommand{\diag}[1]{\text{diag}(#1)}
\newcommand{\sign}[1]{\text{sign}(#1)}
\newcommand{\mat}[1]{\mathbf{#1}}
\newcommand{\boldvec}[1]{\mathbf{#1}}
\newcommand{\overvec}[1]{\overrightarrow{#1}}
\newcommand{\transpose}[1]{{#1}^{\mathbf{T}}}
\newcommand{\T}[0]{^{\mathbf{T}}}
\newcommand{\eps}[0]{\epsilon}
\newcommand{\glt}{%
  \mathrel{\ooalign{\raisebox{.6ex}{$>$}\cr\raisebox{-.6ex}{$<$}}}
}
\newcommand{\binaryset}[1]{\{0, 1\}\ifthenelse{\equal{#1}{1}}{}{^{#1}}}
\newcommand{\concat}{\mathbin{\|}}
\newcommand{\alignnoop}{\hphantom{{} = 1}}
\newcommand{\stext}[1]{\text{ #1 }}
\newcommand{\slashcomment}[1]{\text{\hspace{0.5em} $/\mkern-3mu/$ #1}\hspace{-10em}}
\newcommand{\ifcond}{\text{if }}
\newcommand{\ow}{\text{otherwise}}
\newcommand{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\newcommand{\Let}[2]{\State #1 $\gets$ #2}
\let\emptyset\varnothing
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\algrenewcommand\algorithmicrequire{\textbf{Precondition: }}
\algrenewcommand\algorithmicensure{\textbf{Postcondition: }}
\NewDocumentCommand\xDeclarePairedDelimiter{mmm}
{%
    \NewDocumentCommand#1{som}{%
    \IfNoValueTF{##2}
        {\IfBooleanTF{##1}{#2##3#3}{\mleft#2##3\mright#3}}
        {\mathopen{##2#2}##3\mathclose{##2#3}}%
    }%
}
\xDeclarePairedDelimiter{\size}{\lvert}{\rvert}
\xDeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\xDeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\xDeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\xDeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\def\<#1>{\langle#1\rangle}
\newcount\colveccount
\newcommand*\colvec[1]{
    \global\colveccount#1
    \begin{pmatrix}
    \colvecnext
}
\def\colvecnext#1{
    #1
    \global\advance\colveccount-1
    \ifnum\colveccount>0
            \\
            \expandafter\colvecnext
    \else
            \end{pmatrix}
    \fi
}
\newcount\colvecbcount
\newcommand*\colvecb[1]{
    \global\colvecbcount#1
    \begin{bmatrix}
    \colvecbnext
}
\def\colvecbnext#1{
    #1
    \global\advance\colvecbcount-1
    \ifnum\colvecbcount>0
            \\
            \expandafter\colvecbnext
    \else
            \end{bmatrix}
    \fi
}
\newcommand{\algoriindent}{\hspace{2em}}
\newcommand{\iindent}{
    \ifnum\value{algorilevel}=1\relax
        \stepcounter{algoriindenti}
    \else
        \ifnum\value{algorilevel}=2\relax
            \stepcounter{algoriindentii}
        \else
        \fi
    \fi
}
\newcommand{\ddedent}{
    \ifnum\value{algorilevel}=1\relax
        \addtocounter{algoriindenti}{-1}
    \else
        \ifnum\value{algorilevel}=2\relax
            \addtocounter{algoriindentii}{-1}
        \else
        \fi
    \fi
}
\newcounter{algorirownumi}
\newcounter{algoriindenti}
\newcounter{algorirownumii}
\newcounter{algoriindentii}
\newcounter{algorilevel}
\newcommand{\rownumber}{
    \ifnum\value{algorilevel}=1\relax
        \ifnum\value{algoriindenti}=0\relax
            \stepcounter{algorirownumi}\arabic{algorirownumi}.
        \else
        \fi
    \else
        \ifnum\value{algorilevel}=2\relax
            \ifnum\value{algoriindentii}=0\relax
                \stepcounter{algorirownumii}\arabic{algorirownumii}.
            \else
            \fi
        \else
        \fi
    \fi
}
\newcommand{\rowindent}{
    \ifnum\value{algorilevel}=1\relax
        \hspace{\numexpr2*\value{algoriindenti}\relax em}
    \else
        \ifnum\value{algorilevel}=2\relax
            \hspace{\numexpr2*\value{algoriindentii}\relax em}
        \else
        \fi
    \fi
}
\NewEnviron{algori}{
    \stepcounter{algorilevel}
    \ifnum\value{algorilevel}=1\relax
        \setcounter{algorirownumi}{0}
        \setcounter{algoriindenti}{0}
    \else
        \ifnum\value{algorilevel}=2\relax
            \setcounter{algorirownumii}{0}
            \setcounter{algoriindentii}{0}
        \else
        \fi
    \fi
    \left[
    \begin{tabular}{@{\makebox[1.2em][l]{\rownumber\space}} >{$}>{\rowindent}l<{$}}
        \BODY
    \end{tabular}
    \right.
    \addtocounter{algorilevel}{-1}
}
\NewEnviron{experi}{
    \begin{tabular}{>{$}c<{$}}
        \BODY
    \end{tabular}
}

% tikz
\newcommand{\tikzmark}[1]{
    \tikz[overlay,remember picture] \node (#1) {};
}
\tikzset{square arrow/.style={to path={-- ++(0,.15) -| (\tikztotarget)}}}
\tikzstyle{bayes_net}=[->, >=stealth', shorten >=1pt, auto, node distance=2cm, thick]
\tikzstyle{markov_random_field}=[>=stealth', auto, node distance = 2cm, thick]
\tikzstyle{main_node}=[circle, rounded corners, draw, minimum size = 0.85cm]
\tikzstyle{box_node}=[draw, minimum size = 0.7cm]
\def\getxlength#1{
  \path let \p{x}=(1,0), \n{xlen}={veclen(\x{x},\y{x})}
  in \pgfextra{\xdef#1{\n{xlen}}};
}
\def\getylength#1{
  \path let \p{x}=(0,1), \n{xlen}={veclen(\x{x},\y{x})}
  in \pgfextra{\xdef#1{\n{xlen}}};
}

\lstset{basicstyle = \normalsize\ttfamily, breaklines = true}
\lstset{framextopmargin = 50pt,frame = bottomline}
\setlength{\parindent}{0cm}
\setlength{\parskip}{5pt}
\theoremstyle{plain}
\newmdenv[skipabove=\topsep, skipbelow=\topsep, tikzsetting={draw=lightgray, fill=lightgray, fill opacity=0.3}]{lightbg}
\newtheorem*{theorem}{Theorem}
\newtheorem*{lemma}{Lemma}
\newtheorem*{corollary}{Corollary}
\newtheorem*{proposition}{Proposition}
\newtheorem*{claim}{Claim}
\newtheorem*{conjecture}{Conjecture}
\theoremstyle{definition}
\newtheorem*{definition}{Definition}
\newtheorem*{assumption}{Assumption}
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{motivation}{Motivation}
\newtheorem*{example}{Example}
\newtheorem*{problem}{Problem}
\newtheorem*{question}{Question}
\newtheorem*{observation}{Observation}
\newtheorem*{notation}{Notation}
\newtheorem*{fact}{Fact}
